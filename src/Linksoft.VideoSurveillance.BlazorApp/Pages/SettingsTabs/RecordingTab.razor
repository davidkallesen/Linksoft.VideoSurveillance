<MudText Typo="Typo.subtitle1" Class="mb-2">Recording</MudText>
<MudTextField @bind-Value="State.RecordingPath" Label="Recording Path" Class="mt-2" />
<MudSelect @bind-Value="State.RecordingFormat" Label="Recording Format" Class="mt-2">
    <MudSelectItem Value="AppSettingsRecordingFormat.Mp4">MP4</MudSelectItem>
    <MudSelectItem Value="AppSettingsRecordingFormat.Mkv">MKV</MudSelectItem>
    <MudSelectItem Value="AppSettingsRecordingFormat.Avi">AVI</MudSelectItem>
</MudSelect>
<MudCheckBox @bind-Value="State.EnableRecordingOnMotion" Label="Enable recording on motion" Class="mt-2" />
<MudCheckBox @bind-Value="State.EnableRecordingOnConnect" Label="Enable recording on connect" Class="mt-2" />
<MudCheckBox @bind-Value="State.EnableHourlySegmentation" Label="Enable hourly segmentation" Class="mt-2" />
<MudNumericField @bind-Value="State.MaxRecordingDurationMinutes" Label="Max Duration (minutes)" Min="1" Max="1440" Class="mt-2" />
<MudNumericField @bind-Value="State.ThumbnailTileCount" Label="Thumbnail Tile Count" Min="1" Max="16" Class="mt-2" />

<MudDivider Class="my-4" />

<MudText Typo="Typo.subtitle1" Class="mb-2">Cleanup</MudText>
<MudSelect @bind-Value="State.CleanupSchedule" Label="Cleanup Schedule" Class="mt-2">
    <MudSelectItem Value="AppSettingsCleanupSchedule.Disabled">Disabled</MudSelectItem>
    <MudSelectItem Value="AppSettingsCleanupSchedule.OnStartup">On Startup</MudSelectItem>
    <MudSelectItem Value="AppSettingsCleanupSchedule.OnStartupAndPeriodically">On Startup and Periodically</MudSelectItem>
</MudSelect>
<MudNumericField @bind-Value="State.RecordingRetentionDays" Label="Recording Retention (days)" Min="1" Max="365" Class="mt-2" />
<MudCheckBox @bind-Value="State.CleanupIncludeSnapshots" Label="Include snapshots in cleanup" Class="mt-2" />
<MudNumericField @bind-Value="State.SnapshotRetentionDays" Label="Snapshot Retention (days)" Min="1" Max="365" Class="mt-2" />

<MudDivider Class="my-4" />

<MudText Typo="Typo.subtitle1" Class="mb-2">Playback Overlay</MudText>
<MudCheckBox @bind-Value="State.PlaybackShowFilename" Label="Show filename" Class="mt-2" />
<MudTextField @bind-Value="State.PlaybackFilenameColor" Label="Filename Color" Class="mt-2" />
<MudCheckBox @bind-Value="State.PlaybackShowTimestamp" Label="Show timestamp" Class="mt-2" />
<MudTextField @bind-Value="State.PlaybackTimestampColor" Label="Timestamp Color" Class="mt-2" />

@code {
    [Parameter, EditorRequired]
    public SettingsState State { get; set; } = null!;
}