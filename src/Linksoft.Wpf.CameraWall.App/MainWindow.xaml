<atcTheming:NiceWindow
    x:Class="Linksoft.Wpf.CameraWall.App.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:app="clr-namespace:Linksoft.Wpf.CameraWall.App"
    xmlns:atcTheming="https://github.com/atc-net/atc-wpf/tree/main/schemas"
    xmlns:cw="clr-namespace:Linksoft.Wpf.CameraWall.UserControls;assembly=Linksoft.Wpf.CameraWall"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:fluent="urn:fluent-ribbon"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title=".:: Linksoft Camera Wall ::."
    Width="1500"
    Height="1000"
    MinWidth="700"
    MinHeight="400"
    d:DataContext="{d:DesignInstance Type=app:MainWindowViewModel}"
    WindowStartupLocation="CenterScreen"
    WindowState="{Binding Path=WindowState}"
    mc:Ignorable="d">

    <atcTheming:GridEx Rows="Auto,*,Auto">

        <!--  Ribbon  -->
        <fluent:Ribbon
            Grid.Row="0"
            AutomaticStateManagement="True"
            CanCustomizeQuickAccessToolBar="False"
            IsQuickAccessToolBarMenuDropDownVisible="False"
            IsQuickAccessToolBarVisible="False">
            <!--  Backstage  -->
            <fluent:Ribbon.Menu>
                <fluent:Backstage>
                    <fluent:BackstageTabControl>
                        <fluent:Button Command="{Binding Path=ShowAboutCommand}" Header="About" />
                        <fluent:Button Command="{Binding Path=CheckForUpdatesCommand}" Header="Check for Updates" />
                    </fluent:BackstageTabControl>
                </fluent:Backstage>
            </fluent:Ribbon.Menu>

            <!--  Layouts Tab  -->
            <fluent:RibbonTabItem Header="Layouts">
                <fluent:RibbonGroupBox Header="Current Layout">
                    <fluent:ComboBox
                        Width="150"
                        DisplayMemberPath="Name"
                        Header="Layout"
                        IsEditable="False"
                        ItemsSource="{Binding Path=Layouts}"
                        SelectedItem="{Binding Path=CurrentLayout}" />
                </fluent:RibbonGroupBox>

                <fluent:RibbonGroupBox Header="Actions">
                    <fluent:Button
                        Command="{Binding Path=NewLayoutCommand}"
                        Header="New Layout"
                        Size="Middle" />
                    <fluent:Button
                        Command="{Binding Path=DeleteLayoutCommand}"
                        Header="Delete Layout"
                        Size="Middle" />
                    <fluent:Button
                        Command="{Binding Path=SetAsStartupCommand}"
                        Header="Set as Startup"
                        Size="Middle" />
                </fluent:RibbonGroupBox>
            </fluent:RibbonTabItem>

            <!--  Cameras Tab  -->
            <fluent:RibbonTabItem Header="Cameras">
                <fluent:RibbonGroupBox Header="Camera">
                    <fluent:Button
                        Command="{Binding Path=AddCameraCommand}"
                        Header="Add Camera"
                        Size="Large" />
                </fluent:RibbonGroupBox>

                <fluent:RibbonGroupBox Header="Actions">
                    <fluent:Button
                        Command="{Binding Path=RefreshAllCommand}"
                        Header="Refresh All"
                        Size="Middle" />
                </fluent:RibbonGroupBox>
            </fluent:RibbonTabItem>

            <!--  View Tab  -->
            <fluent:RibbonTabItem Header="View" />
        </fluent:Ribbon>

        <!--  Camera Wall  -->
        <cw:CameraWall
            x:Name="CameraWallControl"
            Grid.Row="1"
            ConnectionStateChanged="CameraWall_ConnectionStateChanged"
            DeleteCameraRequested="CameraWall_DeleteCameraRequested"
            EditCameraRequested="CameraWall_EditCameraRequested"
            FullScreenRequested="CameraWall_FullScreenRequested"
            PositionChanged="CameraWall_PositionChanged" />

        <!--  Status Bar  -->
        <StatusBar Grid.Row="2">
            <StatusBarItem>
                <TextBlock Text="{Binding Path=StatusText}" />
            </StatusBarItem>
            <Separator />
            <StatusBarItem>
                <TextBlock>
                    <Run Text="Cameras: " />
                    <Run Text="{Binding Path=CameraCount, Mode=OneWay}" />
                </TextBlock>
            </StatusBarItem>
            <Separator />
            <StatusBarItem>
                <TextBlock>
                    <Run Text="Connected: " />
                    <Run Text="{Binding Path=ConnectedCount, Mode=OneWay}" />
                </TextBlock>
            </StatusBarItem>
        </StatusBar>
    </atcTheming:GridEx>
</atcTheming:NiceWindow>
